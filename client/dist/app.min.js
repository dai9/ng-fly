"use strict";!function(){angular.module("ngFlyApp",["ui.router","btford.socket-io","luegg.directives","ngAnimate"])}(),function(){function e(e,t){e.state("home",{url:"/",controller:"ChatController",controllerAs:"vm",templateUrl:"templates/chatroom.html"}).state("gamepad",{url:"/gamepad",templateUrl:"templates/gamepad.html"}).state("keyboard",{url:"/keyboard",templateUrl:"templates/keyboard.html"}),t.html5Mode(!0)}angular.module("ngFlyApp").config(e),e.$inject=["$stateProvider","$locationProvider"]}(),function(){function e(e){function t(t,o){e.send(t,o),n.message=""}var n=this;n.username=e.username,n.message="",n.messages=e.messages(),n.sendMessage=t}angular.module("ngFlyApp").controller("ChatController",e),e.$inject=["droneService"]}(),function(){function e(e,t,n){function o(t,o,r){function a(o){1===o.which&&(n.command(t.convert[i]),t.repeat=e(function(){n.command(t.convert[i])},300))}function c(){n.command("stop"),e.cancel(t.repeat)}t.convert={L:"left",R:"right","↑":"up","→":"turnRight","↓":"down","←":"turnLeft",X:"flip",A:"front",B:"back",Y:"stop",Select:"land",Start:"takeoff"};var i=o[0].innerHTML;o.bind("mousedown",a),o.bind("mouseup",c)}return{restrict:"E",link:o}}angular.module("ngFlyApp").directive("btn",e),e.$inject=["$interval","$timeout","droneService"]}(),function(){function e(e,t){function n(n,o,r){n.keycodes={81:"q",87:"w",69:"e",65:"a",83:"s",68:"d",85:"u",72:"h",74:"j",75:"k",13:"enter",16:"shift"},n.convert={q:"left",w:"up",e:"right",a:"turnLeft",s:"down",d:"turnRight",u:"flip",h:"stop",j:"back",k:"front",enter:"takeoff",shift:"land"},e.bind("keydown",function(e){var o=n.keycodes[e.which];if(o){var r=document.getElementsByClassName(o)[0];r.classList.add("active"),t.command(n.convert[o])}}),e.bind("keyup",function(e){var o=n.keycodes[e.which];if(o){t.command("stop");var r=document.getElementsByClassName(o)[0];r.classList.remove("active")}})}return{restrict:"E",link:n}}angular.module("ngFlyApp").directive("keyboard",e),e.$inject=["$document","droneService"]}(),function(){function e(e){function t(){return c}function n(t){e.emit("command",t)}function o(t,n){e.emit("message",{username:t,body:n})}function r(){for(var e=arguments.length<=0||void 0===arguments[0]?4:arguments[0],t="Guest#",n=0;n<e;n++)t+=Math.floor(10*Math.random());return t}var a=r(),c=[],i={username:a,messages:t,command:n,send:o};return e.on("message",function(e){c.push(e)}),i}angular.module("ngFlyApp").factory("droneService",e),e.$inject=["socket"]}(),function(){function e(e){return e()}angular.module("ngFlyApp").factory("socket",e),e.$inject=["socketFactory"]}();